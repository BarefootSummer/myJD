<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
 <link rel="stylesheet" type="text/css" href="css/default.css" /> 
 
</head>
<body>
<div class="SubCategoryBox">
<ul>
<li ><a href="#">佳能</a><i>(30440) </i></li>
<li ><a href="#">索尼</a><i>(27220) </i></li>
<li ><a href="#">三星</a><i>(20808) </i></li>
<li ><a href="#">尼康</a><i>(17821) </i></li>
<li ><a href="#">松下</a><i>(12289) </i></li>
<li ><a href="#">卡西欧</a><i>(8242) </i></li>
<li ><a href="#">富士</a><i>(14894) </i></li>
<li ><a href="#">柯达</a><i>(9520) </i></li>
<li ><a href="#">宾得</a><i>(2195) </i></li>
<li ><a href="#">理光</a><i>(4114) </i></li>
<li ><a href="#">奥林巴斯</a><i>(12205) </i></li>
<li ><a href="#">明基</a><i>(1466) </i></li>
<li ><a href="#">爱国者</a><i>(3091) </i></li>
<li ><a href="#">其它品牌相机</a><i>(7275) </i></li>
</ul>
<div class="showmore">
<a href="more.html"><span>显示全部品牌</span></a>
</div>
</div>
</body>
</html>
<script src="dom2.js"></script>
<script>
var oLis=children(children(getElesByClass("SubCategoryBox")[0],"ul")[0],"li");//所有的li
var operatedLis=oLis.slice(6,oLis.length-1);//在所有的li中，把索引大于5，还不包括最后一个的li找出来
//$(".SubCategoryBox>ul>li:gt(5):not(:last)").hide();

var aPromoted=[];
var reg=/三星|柯达|爱国者/;
for(var i=0,l=oLis.length;i<l;i++){
	if(reg.test(oLis[i].innerHTML)){
		aPromoted.push(oLis[i]);
	}
}
 
for(var i=0,l=operatedLis.length;i<l;i++){
	operatedLis[i].style.display="none";
}
children(getElesByClass("showmore")[0],'a')[0].onclick=function(){
	var oSpan=children(this,"span")[0];
	
	if(operatedLis[0].style.display=="none"){
		for(var i=0,l=operatedLis.length;i<l;i++){
			operatedLis[i].style.display="block";
		}
		for(var i=0;i<3;i++){
			addClass(aPromoted[i],"promoted");
		}
		oSpan.style.backgroundImage="url(img/up.gif)";
		oSpan.innerHTML="显示精简品牌";
	}else{
		for(var i=0,l=operatedLis.length;i<l;i++){
			operatedLis[i].style.display="none";
		}
		for(var i=0;i<3;i++){
			removeClass(aPromoted[i],"promoted");
		}
		oSpan.style.backgroundImage="url(img/down.gif)";
		oSpan.innerHTML="显示全部品牌";
	}
	
	return false;
	
}
</script>
